
<!DOCTYPE html>
<html>
  <head>
    
<meta charset="utf-8" >

<title>Pythonå­¦ä¹ ç¬”è®°06_é¢å‘å¯¹è±¡ç¼–ç¨‹2 | å°å°ç‹çš„åèŠ±å›­</title>
<meta name="description" content="å°å°ç‹çš„åèŠ±å›­">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="http://wangqunsong.top/favicon.ico?v=1556976655503">
<link rel="stylesheet" href="http://wangqunsong.top/styles/main.css">



<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



  </head>
  <body>
    <div id="app" class="main">
      <div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="http://wangqunsong.top">
        <img class="avatar" src="http://wangqunsong.top/images/avatar.png?v=1556976655503" alt="" width="32px" height="32px">
      </a>
      <a href="http://wangqunsong.top">
        <h1 class="site-title">å°å°ç‹çš„åèŠ±å›­</h1>
      </a>
    </div>
    <div class="right">
      <transition name="fade">
        <i class="icon" :class="{ 'icon-close-outline': menuVisible, 'icon-menu-outline': !menuVisible }" @click="menuVisible = !menuVisible"></i>
      </transition>
    </div>
  </div>
</div>

<transition name="fade">
  <div class="menu-container" style="display: none;" v-show="menuVisible">
    <div class="menu-list">
      
        
          <a href="http://wangqunsong.top" class="menu purple-link">
            é¦–é¡µ
          </a>
        
      
        
          <a href="http://wangqunsong.top/archives" class="menu purple-link">
            å½’æ¡£
          </a>
        
      
        
          <a href="http://wangqunsong.top/tags" class="menu purple-link">
            æ ‡ç­¾
          </a>
        
      
        
          <a href="http://wangqunsong.top/post/guan-yu-wo/" class="menu purple-link">
            å…³äº
          </a>
        
      
        
          <a href="http://wangqunsong.top/post/shou-cang-lian-jie/" class="menu purple-link">
            æ”¶è—é“¾æ¥
          </a>
        
      
    </div>
  </div>
</transition>


      <div class="content-container">
        <div class="post-detail">
          
          <h2 class="post-title">Pythonå­¦ä¹ ç¬”è®°06_é¢å‘å¯¹è±¡ç¼–ç¨‹2</h2>
          <div class="post-info post-detail-info">
            <span><i class="icon-calendar-outline"></i> 2017-01-10</span>
            
              <span>
                <i class="icon-pricetags-outline"></i>
                
                  <a href="http://wangqunsong.top/tag/1sgoPsPP5">
                    Python
                    
                  </a>
                
              </span>
            
          </div>
          <div class="post-content">
            <p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ æ¥åˆ°å°å°ç‹çš„åèŠ±å›­ï¼<br>
âœï¸  è¿™é‡Œä»…ä»…æ˜¯ä¸€ä¸ªè®°å½•ä¸ªäººæˆé•¿çš„åœ°æ–¹ï¼Œç°åœ¨æ‰€å¤„çš„ä½ç½®æ˜¯<strong>Pythonå­¦ä¹ ç¬”è®°06_é¢å‘å¯¹è±¡ç¼–ç¨‹2</strong></p>
<!-- more --> 
<h5 id="é™åˆ¶å®ä¾‹æ·»åŠ å±æ€§">é™åˆ¶å®ä¾‹æ·»åŠ å±æ€§</h5>
<p>åªå…è®¸å¯¹Studentå®ä¾‹æ·»åŠ <code>name</code>å’Œ<code>age</code>å±æ€§ã€‚ä¸ºäº†è¾¾åˆ°é™åˆ¶çš„ç›®çš„ï¼ŒPythonå…è®¸åœ¨å®šä¹‰classçš„æ—¶å€™ï¼Œå®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„<code>__slots__</code>å˜é‡ï¼Œæ¥é™åˆ¶è¯¥classå®ä¾‹èƒ½æ·»åŠ çš„å±æ€§ï¼š</p>
<pre><code class="language-python">class Student(object):
    __slots__ = ('name', 'age')                     #ç”¨tupleå®šä¹‰å…è®¸ç»‘å®šçš„å±æ€§åç§°
    
&gt;&gt;&gt; s = Student()                                   #åˆ›å»ºæ–°çš„å®ä¾‹
&gt;&gt;&gt; s.name = 'Michael' 
&gt;&gt;&gt; s.age = 25 
&gt;&gt;&gt; s.score = 99    #'score'æ²¡æœ‰è¢«æ”¾åˆ°__slots__ä¸­ï¼Œä¸èƒ½ç»‘å®šscoreå±æ€§ï¼Œå¦åˆ™ä¼šæœ‰AttributeErrorçš„é”™è¯¯ã€‚
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
AttributeError: 'Student' object has no attribute 'score'
</code></pre>
<p>è¦æ³¨æ„çš„æ˜¯ï¼Œ<em><code>__slots__</code>åªèƒ½é™åˆ¶å®ä¾‹çš„å±æ€§åŠæ–¹æ³•ï¼Œå¯¹äºç±»åˆ™æ²¡æœ‰å½±å“ï¼Œå¯¹äºå­ç±»åˆ™æ›´æ˜¯æ²¡æœ‰é™åˆ¶ï¼Œé™¤éåœ¨å­ç±»ä¸­ä¹Ÿå®šä¹‰<code>__slots__</code>ã€‚</em></p>
<h5 id="ä½¿ç”¨è£…é¥°å™¨è®¿é—®æ§åˆ¶">ä½¿ç”¨è£…é¥°å™¨è®¿é—®æ§åˆ¶</h5>
<p>â€‹        ä¹‹å‰å®šä¹‰è¿‡çš„<code>Student</code>ç±»ä½¿ç”¨läº†<code>get_id</code>å’Œ<code>set_id</code>å®ç°è®¿é—®æ§åˆ¶ï¼Œä½†æœ‰äº›å¤æ‚ã€‚æ›´å¥½çš„æ–¹æ³•æ˜¯ç”¨<code>@property</code>å’Œ<code>@å˜é‡å€¼.setter</code>å®šä¹‰<strong>åªè¯»å±æ€§</strong>å’Œ<strong>å¯è¯»å†™å±æ€§</strong>ã€‚å¦‚ï¼š</p>
<pre><code class="language-python">class Screen(object):                   #heightå’Œwidthä¸ºå¯è¯»å†™å±æ€§ï¼Œresolutionä¸ºåªè¯»å±æ€§
    __slots__ = ('__width','__height')
    
    def __init__(self, width=0, height=0):
        self.__width = width
        self.__height = height
        
    @property                     #widthè¯»
    def width(self):
        return self.__width
    
    @width.setter                  #widthå†™
    def width(self,value):
        self.__width = value
    
    @property
    def height(self):
        return self.__height
    
    @height.setter
    def height(self, value):
        self.__height = value
        
    @property
    def resolution(self):
        return self.__width * self.__height
</code></pre>
<h5 id="å¤šé‡ç»§æ‰¿">å¤šé‡ç»§æ‰¿</h5>
<p>â€‹        åœ¨è®¾è®¡ç±»çš„ç»§æ‰¿å…³ç³»æ—¶ï¼Œä¸»çº¿é€šå¸¸éƒ½æ˜¯å•ä¸€ç»§æ‰¿ä¸‹æ¥çš„ï¼Œä½†æ˜¯ï¼Œå¦‚æœéœ€è¦â€œæ··å…¥â€é¢å¤–çš„åŠŸèƒ½ï¼Œé€šè¿‡å¤šé‡ç»§æ‰¿å°±å¯ä»¥å®ç°ï¼Œè¿™ç§è®¾è®¡é€šå¸¸ç§°ä¹‹ä¸ºMixInã€‚</p>
<pre><code class="language-python">class Dog(Mammal, RunnableMixIn, CarnivorousMixIn): #ç»§æ‰¿äº†Mammal,Runnableå’ŒCarnivorous
    pass
class MyTCPServer(TCPServer, ThreadingMixIn):       #ç»§æ‰¿äº†å¤šçº¿ç¨‹å’ŒTCP
    pass
</code></pre>
<h5 id="å®šåˆ¶ç±»ä¸é­”æœ¯æ–¹æ³•">å®šåˆ¶ç±»ä¸é­”æœ¯æ–¹æ³•</h5>
<p>â€‹        å¸¸è§çš„<strong>é­”æœ¯æ–¹æ³•</strong>(ä¹Ÿå«<strong>ç‰¹æ®Šæ–¹æ³•</strong>)å¦‚ä¸‹ï¼Œç”¨æ³•<a href="http://funhacks.net/explore-python/Class/magic_method.html">ç‚¹æˆ‘</a>ï¼Œæˆ–è€…å¯ä»¥è®¿é—®<a href="https://docs.python.org/2/reference/datamodel.html#special-method-names">è¿™é‡Œ</a>æŸ¥çœ‹å®Œæ•´æ–¹æ³•ã€‚</p>
<pre><code class="language-python">__new__                                  #åœ¨ __init__ ä¹‹å‰è¢«è°ƒç”¨ï¼Œç”¨æ¥åˆ›å»ºå®ä¾‹ã€‚
__str__ , __repr__                       #æ˜¯ç”¨ print å’Œ str æ˜¾ç¤ºçš„ç»“æœï¼Œ__repr__ æ˜¯ç›´æ¥æ˜¾ç¤ºçš„ç»“æœã€‚
__iter__                                 #ä½¿ä¸€ä¸ªç±»å¯ä»¥åƒlistæˆ–tupleé‚£æ ·å¾ªç¯
__getitem__ , __setitem__ , __delitem__  #ç”¨ç±»ä¼¼ obj[key] çš„æ–¹å¼å¯¹å¯¹è±¡è¿›è¡Œå–å€¼
__getattr__ , __setattr__ , __delattr__  #ç”¨äºè·å–ä¸å­˜åœ¨çš„å±æ€§ obj.attr
__call__                                 #ä½¿å¾—å¯ä»¥å¯¹å®ä¾‹è¿›è¡Œè°ƒç”¨
</code></pre>
<h5 id="æšä¸¾ç±»">æšä¸¾ç±»</h5>
<p>ä½¿ç”¨<code>Enum</code>å®šä¹‰ä¸€ä¸ªclassç±»å‹ï¼Œç„¶åï¼Œæ¯ä¸ªå¸¸é‡éƒ½æ˜¯classçš„ä¸€ä¸ªå”¯ä¸€å®ä¾‹ã€‚</p>
<pre><code class="language-python">from enum import Enum

Month = Enum('Month', ('Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'))
</code></pre>
<p>è¿™æ ·æˆ‘ä»¬å°±è·å¾—äº†<code>Month</code>ç±»å‹çš„æšä¸¾ç±»ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<code>Month.Jan</code>æ¥å¼•ç”¨ä¸€ä¸ªå¸¸é‡ï¼Œæˆ–è€…æšä¸¾å®ƒçš„æ‰€æœ‰æˆå‘˜ï¼š</p>
<pre><code class="language-python">for name, member in Month.__members__.items():
    print(name, '=&gt;', member, ',', member.value)
</code></pre>
<p><code>value</code>å±æ€§åˆ™æ˜¯è‡ªåŠ¨èµ‹ç»™æˆå‘˜çš„<code>int</code>å¸¸é‡ï¼Œé»˜è®¤ä»<code>1</code>å¼€å§‹è®¡æ•°ã€‚</p>
<h5 id="å…ƒç±»">å…ƒç±»</h5>
<p>â€‹        æƒ³äº†è§£å…ƒç±»<code>(metaclass)</code>æ¨èå‡ ç¯‡æ–‡ç« ï¼š<a href="http://blog.jobbole.com/21351/">æ·±åˆ»ç†è§£å…ƒç±»</a>ï¼Œ[<a href="https://stackoverflow.com/questions/100003/what-are-metaclasses-in-python">What are metaclasses in Python?</a>]</p>

          </div>
        </div>

        
          <div class="next-post">
            <a class="purple-link" href="http://wangqunsong.top/post/python-xue-xi-bi-ji-05_-mian-xiang-dui-xiang-bian-cheng-1">
              <h3 class="post-title">
                ä¸‹ä¸€ç¯‡ï¼šPythonå­¦ä¹ ç¬”è®°05_é¢å‘å¯¹è±¡ç¼–ç¨‹1
              </h3>
            </a>
          </div>
          
      </div>

      

      <div class="site-footer">
  <div class="slogan">å°å°ç‹çš„åèŠ±å›­</div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
  Powered by <a href="http://wangqunsong.top/" target="_blank">å°å°ç‹</a>
</div>


    </div>
    <script type="application/javascript">

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>




  </body>
</html>
