<html>
  <head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Python学习笔记05_面向对象编程1 | 小小王的后花园</title>
<link rel="shortcut icon" href="http://wangqunsong.top/favicon.ico?v=1556977602110">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="http://wangqunsong.top/styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="http://wangqunsong.top">
  <img class="avatar" src="http://wangqunsong.top/images/avatar.png?v=1556977602110" alt="">
  </a>
  <h1 class="site-title">
    小小王的后花园
  </h1>
  <p class="site-description">
    小小王的后花园
  </p>
  <div class="menu-container">
    
      
        <a href="http://wangqunsong.top" class="menu">
          首页
        </a>
      
    
      
        <a href="http://wangqunsong.top/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="http://wangqunsong.top/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="http://wangqunsong.top/post/guan-yu-wo/" class="menu">
          关于
        </a>
      
    
      
        <a href="http://wangqunsong.top/post/shou-cang-lian-jie/" class="menu">
          收藏链接
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

      
        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              Python学习笔记05_面向对象编程1
            </h2>
            <div class="post-info">
              <time class="post-time">
                · 2016-12-30 ·
              </time>
              
                <a href="http://wangqunsong.top/tag/1sgoPsPP5" class="post-tags">
                  # Python
                </a>
              
            </div>
            
            <div class="post-content">
              <p>👏  欢迎使用 来到小小王的后花园！<br>
✍️  这里仅仅是一个记录个人成长的地方，现在所处的位置是<strong>Python学习笔记05_面向对象编程1</strong></p>
<!-- more --> 
<h5 id="类和实例">类和实例</h5>
<p>​       <code>类(class)</code>是抽象模板，而<code>实例(instance)</code>是根据类创建的一个个具体对象。每个对象都拥有相同的方法，但各自数据可能不同。和普通的函数相比，类中定义的函数只有一点不同，就是第一个参数永远是实例变量<code>self</code>，并且，调用时，不用传递该参数。</p>
<h5 id="封装与访问控制">封装与访问控制</h5>
<pre><code class="language-python">class Student(object):
    
    def __init__(self, id, name):     #初始化函数，在创建实例的时候，就不能传入空的参数了，必须传入与__init__方法匹配的参数，但self不需要传
        self.__id = id
        self.__name = name       #__开头的为私有变量，类外部禁止访问

    def get_id(self):            #外部访问id
        return self.__id

    def get_name(self):          #外部访问name
        return self.__name

    def set_id(self, id):        #外部修改id
        if isinstance(id,int):
            self.__id = id
        else:
            raise ValueError('id must be a number!')

    def set_name(self, name):    #外部修改name
        if type(name) == str:
            self.__name = name
        else:
            raise ValueError('name must be a string!')
</code></pre>
<h5 id="继承与多态">继承与多态</h5>
<p>​        继承可以把父类的所有功能都直接拿过来，这样就不必重零做起，子类只需要新增自己特有的方法，也可以把父类不适合的方法覆盖重写。动态语言的鸭子类型特点决定了继承不像静态语言那样是必须的。</p>
<blockquote>
<p>“开闭”原则：</p>
<p>对扩展开放：允许新增<code>Animal</code>子类；</p>
<p>对修改封闭：不需要修改依赖<code>Animal</code>类型的<code>run_check()</code>等函数。</p>
</blockquote>
<pre><code class="language-python">class Animal(object):
    def __init__(self):
        pass
    
    def run(self):
        print(&quot;Animal is runing!&quot;)
                
class Dog(Animal):
    def run(self):
        print(&quot;Dog is runing!&quot;)
        
class Cat(Animal):
    def run(self):
        print(&quot;Cat is runing!&quot;)
        
def run_check(animal):      #参数接收animal类型
    animal.run()
        
if __name__ == '__main__':
    animal = Animal()
    dog = Dog()
    cat = Cat()
    
    animal.run()     #Animal is runing!
    dog.run()        #Dog is runing!
    cat.run()        #Cat is runing!
    
    run_check(animal)  #Animal is runing!
    run_check(dog)     #Dog is runing! 因为也是animal类型
    run_check(cat)     #Cat is runing! 因为cat也是animal类型
</code></pre>
<h5 id="获取对象信息">获取对象信息</h5>
<p>​        使用<code>dir()</code>函数获得一个对象的所有属性和方法，配合<code>getattr()</code>、<code>setattr()</code>以及<code>hasattr()</code>，我们可以直接操作一个对象的状态：</p>
<pre><code class="language-python">&gt;&gt;&gt; dir('ABC')
['__add__', '__class__',..., '__subclasshook__', 'capitalize', 'casefold',..., 'zfill']
&gt;&gt;&gt; class MyObject(object):
...     def __init__(self):
...         self.x = 9
...     def power(self):
...         return self.x * self.x
...
&gt;&gt;&gt; obj = MyObject()
&gt;&gt;&gt; hasattr(obj, 'x') # 有属性'x'吗？
True
&gt;&gt;&gt; obj.x
9
&gt;&gt;&gt; getattr(obj, 'z', 404) # 获取属性'z'，如果不存在，返回默认值404
404
</code></pre>
<pre><code class="language-python">&gt;&gt;&gt; import types               #借助types判断类型
&gt;&gt;&gt; def fn():
...     pass
...
&gt;&gt;&gt; type(fn)==types.FunctionType
Truepython
&gt;&gt;&gt; type(abs)==types.BuiltinFunctionType
True
&gt;&gt;&gt; type(lambda x: x)==types.LambdaType
True
</code></pre>
<pre><code class="language-python">&gt;&gt;&gt; isinstance('a', str)      #优先使用isinstance()判断类型，可以将指定类型及其子类“一网打尽”。
True
&gt;&gt;&gt; isinstance([1, 2, 3], (list, tuple))
True
</code></pre>
<h5 id="实例属性和类属性">实例属性和类属性</h5>
<ul>
<li>实例属性属于各个实例所有，互不干扰；</li>
<li>类属性属于类所有，所有实例共享一个属性；</li>
<li>不要对实例属性和类属性使用相同的名字，。因为相同名称的实例属性将屏蔽掉类属性，但是当你删除实例属性后，再使用相同的名称，访问到的将是类属性。</li>
</ul>

            </div>
          </article>
        </div>
    
        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="http://wangqunsong.top/post/python-xue-xi-bi-ji-04_-mo-kuai-he-zuo-yong-yu">
              <h3 class="post-title">
                Python学习笔记04_模块和作用域
              </h3>
            </a>
          </div>  
        

        
    
        <div class="site-footer">
  Powered by <a href="http://wangqunsong.top/" target="_blank">小小王</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

      </div>
    </div>
  </body>
</html>
